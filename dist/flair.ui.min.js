/**
 * @preserve
 * Flair.js
 * True Object Oriented JavaScript
 * 
 * Assembly: flair.ui
 *     File: ./flair.ui.js
 *  Version: 0.30.71
 *  Sat, 27 Apr 2019 21:54:37 GMT
 * 
 * (c) 2017-2019 Vikas Burman
 * Licensed under MIT
 */
(()=>{"use strict";const t=void 0!==!0?require("flairjs"):(!0).flair,{Class:e,Struct:i,Enum:n,Interface:a,Mixin:r,Aspects:s,AppDomain:l,$$:o,attr:c,bring:u,Container:p,include:h,Port:d,on:m,post:y,telemetry:f,Reflector:$,Serializer:w,Tasks:v,as:g,is:V,isComplies:T,isDerivedFrom:O,isAbstract:b,isSealed:F,isStatic:A,isSingleton:x,isDeprecated:S,isImplements:C,isInstanceOf:I,isMixed:M,getAssembly:E,getAttr:j,getContext:P,getResource:B,getRoute:z,getType:D,ns:H,getTypeOf:k,getTypeName:R,typeOf:L,dispose:_,using:q,Args:J,Exception:N,noop:U,nip:W,nim:G,nie:K,event:Q}=t,{TaskInfo:X}=t.Tasks,{env:Y}=t.options,Z=Y.isServer?null:(!0).document,{forEachAsync:tt,replaceAll:et,splitAndTrim:it,findIndexByProp:nt,findItemByProp:at,which:rt,guid:st,isArrowFunc:lt,isASyncFunc:ot,sieve:ct,b64EncodeUnicode:ut,b64DecodeUnicode:pt}=t.utils,{$$static:ht,$$abstract:dt,$$virtual:mt,$$override:yt,$$sealed:ft,$$private:$t,$$privateSet:wt,$$protected:vt,$$protectedSet:gt,$$readonly:Vt,$$async:Tt,$$overload:Ot,$$enumerate:bt,$$dispose:Ft,$$post:At,$$on:xt,$$timer:St,$$type:Ct,$$args:It,$$inject:Mt,$$resource:Et,$$asset:jt,$$singleton:Pt,$$serialize:Bt,$$deprecate:zt,$$session:Dt,$$state:Ht,$$conditional:kt,$$noserialize:Rt,$$ns:Lt}=o,_t=l.context.current().name;let qt=Y.isServer?__filename:(!0).document.currentScript.src.replace((!0).document.location.href,"./"),Jt=qt.substr(0,qt.lastIndexOf("/")+1);l.loadPathOf("flair.ui",Jt);const Nt=t=>{l.onError(t)};let Ut=JSON.parse('{"el":"main","title":"","viewTransition":"","components":[],"transitions":[],"filters":[],"mixins":[],"plugins":[],"pluginOptions":{}}'),Wt=t.Port("settingsReader");if("function"==typeof Wt){let t=Wt("flair.ui");t&&(Ut=Object.assign(Ut,t))}Ut=Object.freeze(Ut),l.context.current().currentAssemblyBeingLoaded("./flair.ui{.min}.js"),(async()=>{try{const{Handler:t}=H("flair.app"),{ViewTransition:i}=H("flair.ui");o("ns","flair.ui"),e("ViewHandler",t,function(){let t=!1,e=!1,n=null;this.init=(async()=>{if(!t){t=!0,this.name=this.$self.id+"_"+st(),n=Z.getElementById(Ut.el||"main");let e=d("clientFile");if(this.style&&this.style.endsWith(".css")&&(this.style=await e(this.style)),this.html&&this.html.endsWith(".html")&&(this.html=await e(this.html)),this.viewTransition){let t=g(await h(this.viewTransition),i);this.viewTransition=t?new t:""}}}),o("protectedSet"),this.viewTransition=Ut.viewTransition,o("privateSet"),this.name="",o("protectedSet"),this.title="",o("protected"),this.style="",o("protected"),this.html="",o("protectedSet"),this.meta=null,o("virtual"),o("async"),this.view=U,o("static"),this.currentView="",o("static"),this.currentViewMeta=[],o("protected"),this.mount=(()=>{if(!e){e=!0;let t=Z.createElement("div");if(t.id=this.name,t.setAttribute("hidden",""),this.style){let e=Z.createElement("style");e.setAttribute("scoped",""),e.innerText=this.style.trim(),t.appendChild(e)}let i=Z.createElement("div");i.innerHTML=this.html.trim(),t.appendChild(i),n.appendChild(t)}}),o("protected"),this.swap=(async()=>{let t=Z.getElementById(this.name);if(this.$static.currentView){let e=Z.getElementById(this.$static.currentView);for(let t of this.meta)Z.head.removeChild(Z.querySelector('meta[name="'+t+'"]'));this.viewTransition?(await this.viewTransition.leave(e,t),await this.viewTransition.enter(t,e)):(e.hidden=!0,t.hidden=!1),n.removeChild(e)}for(let t of this.meta){var e=document.createElement("meta");for(let i in t)e[i]=t[i];Z.head.appendChild(e)}this.$static.currentView||(t.hidden=!1),Z.title=this.title,Ut.title&&(Z.title+=" - "+Ut.title),this.$static.currentView=this.name,this.$static.currentViewMeta=this.meta})})}catch(t){Nt(t)}})(),(async()=>{try{o("ns","flair.ui"),e("ViewTransition",function(){o("virtual"),o("async"),this.enter=U,o("virtual"),o("async"),this.leave=U})}catch(t){Nt(t)}})(),(async()=>{try{const{ViewHandler:t}=H("flair.ui");o("ns","flair.ui.vue"),e("VueComponent",t,function(){this.factory=(t=>{let e={};return t?e.el="#"+t:this.style?e.template="<div><style scoped>"+this.style.trim()+"</style></div><div>"+this.html.trim()+"</div>":e.template=this.html.trim(),e}),o("protected"),this.inheritAttrs=!0,o("protected"),this.functional=!1,o("protected"),this.model=null,o("protected"),this.data=null,o("protected"),this.template=null,o("protected"),this.props=null,o("protected"),this.computed=null,o("protected"),this.methods=null,o("protected"),this.watch=null,o("protected"),this.components=null,o("protected"),this.mixins=null,o("protected"),this.transitions=null,o("protected"),this.handlers=null,o("protected"),this.filters=null})}catch(t){Nt(t)}})(),(async()=>{try{o("ns","flair.ui.vue"),e("VueFilter",function(){o("virtual"),this.factory=U})}catch(t){Nt(t)}})(),(async()=>{try{o("ns","flair.ui.vue"),e("VueMixin",function(){o("virtual"),this.factory=U})}catch(t){Nt(t)}})(),(async()=>{try{o("ns","flair.ui.vue"),e("VuePlugin",function(){this.construct=(t=>{Ut.pluginOptions[t]&&(this.options=Object.assign({},Ut.pluginOptions[t]))}),o("virtual"),this.factory=U,this.options=null})}catch(t){Nt(t)}})(),(async()=>{try{const{Bootware:t}=H("flair.app"),i=await h("vue/vue{.min}.js"),{VueComponent:n,VueFilter:a,VuePlugin:r,VueMixin:s,VueTransition:l}=H("flair.ui.vue");o("ns","flair.ui.vue"),e("VueSetup",t,function(){o("override"),this.construct=(t=>{t("Vue Setup")}),o("override"),this.boot=(async()=>{let t=Ut.plugins,e=null,o=null;for(let n in t){if(!n.name)throw N.OperationFailed(`Plugin name cannot be empty. (${n.type})`);if(!n.type)throw N.OperationFailed(`Plugin type cannot be empty. (${n.name})`);if(!(e=g(await h(n.type),r)))throw N.InvalidArgument(n.type);try{o=new e(n.name),i.use(o.factory(),o.options||{})}catch(t){throw N.OperationFailed(`Plugin registration failed. (${n.type})`,t)}}let c=Ut.mixins,u=null,p=null;for(let t in c){if(!t.name)throw N.OperationFailed(`Mixin name cannot be empty. (${t.type})`);if(!t.type)throw N.OperationFailed(`Mixin type cannot be empty. (${t.name})`);if(!(u=g(await h(t.type),s)))throw N.InvalidArgument(t.type);try{p=new u,i.mixin(p.factory())}catch(e){throw N.OperationFailed(`Mixin registration failed. (${t.type})`,e)}}let d=Ut.filters,m=null,y=null;for(let t in d){if(!t.name)throw N.OperationFailed(`Filter name cannot be empty. (${t.type})`);if(!t.type)throw N.OperationFailed(`Filter type cannot be empty. (${t.name})`);if(!(m=g(await h(t.type),a)))throw N.InvalidArgument(t.type);try{y=new m,i.filter(t.name,y.factory())}catch(e){throw N.OperationFailed(`Filter registration failed. (${t.type})`,e)}}let f=Ut.transitions,$=null,w=null;for(let t in f){if(!t.name)throw N.OperationFailed(`Transition name cannot be empty. (${t.type})`);if(!t.type)throw N.OperationFailed(`Transition type cannot be empty. (${t.name})`);if(!($=g(await h(t.type),l)))throw N.InvalidArgument(t.type);try{w=new $,i.transition(t.name,w.factory())}catch(e){throw N.OperationFailed(`Mixin registration failed. (${t.type})`,e)}}let v=Ut.components,V=null,T=null;for(let t in v){if(!t.name)throw N.OperationFailed(`Component name cannot be empty. (${t.type})`);if(!t.type)throw N.OperationFailed(`Component type cannot be empty. (${t.name})`);if(!(V=g(await h(t.name),n)))throw N.InvalidArgument(t.type);try{if(T=new V,i.options.components[t.name])throw N.Duplicate(`Component already registered. (${t.name})`);await T.init(),i.component(t.name,T.factory()),_(T)}catch(e){throw N.OperationFailed(`Component registration failed. (${t.type})`,e)}}})})}catch(t){Nt(t)}})(),(async()=>{try{o("ns","flair.ui.vue"),e("VueTransition",function(){o("virtual"),this.factory=U})}catch(t){Nt(t)}})(),(async()=>{try{const{VueComponent:t}=H("flair.ui.vue"),i=await h("vue/vue{.min}.js");o("ns","flair.ui.vue"),e("VueView",t,function(){o("override"),o("sealed"),this.view=(async t=>{await this.init(),await this.loadContext(t),this.mount(),new i(this.factory(this.name)),await this.swap()}),o("protected"),o("virtual"),o("async"),this.loadContext=U})}catch(t){Nt(t)}})(),l.context.current().currentAssemblyBeingLoaded(""),l.registerAdo('{"name":"flair.ui","file":"./flair.ui{.min}.js","mainAssembly":"flair","desc":"True Object Oriented JavaScript","title":"Flair.js","version":"0.30.71","lupdate":"Sat, 27 Apr 2019 21:54:37 GMT","builder":{"name":"<<name>>","version":"<<version>>","format":"fasm","formatVersion":"1","contains":["initializer","types","enclosureVars","enclosedTypes","resources","assets","routes","selfreg"]},"copyright":"(c) 2017-2019 Vikas Burman","license":"MIT","types":["flair.ui.ViewHandler","flair.ui.ViewTransition","flair.ui.vue.VueComponent","flair.ui.vue.VueFilter","flair.ui.vue.VueMixin","flair.ui.vue.VuePlugin","flair.ui.vue.VueSetup","flair.ui.vue.VueTransition","flair.ui.vue.VueView"],"resources":[],"assets":[],"routes":[]}')})();