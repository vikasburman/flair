/**
 * @preserve
 * Flair.js
 * True Object Oriented JavaScript
 * 
 * Assembly: flair.cli
 *     File: ./flair.cli.js
 *  Version: 0.15.968
 *  Sun, 10 Mar 2019 05:51:04 GMT
 * 
 * (c) 2017-2019 Vikas Burman
 * Licensed under MIT
 */
const rrd=require("recursive-readdir-sync"),copyDir=require("copy-dir"),path=require("path"),fsx=require("fs-extra"),del=require("del"),buildInfo={name:"flair.cli",version:"0.15.968",format:"fasm",formatVersion:"1",contains:["initializer","types","enclosureVars","enclosedTypes","resources","assets","selfreg"]};let getFolders=(e,t)=>{const s=()=>fsx.readdirSync(e).filter(t=>fsx.statSync(path.join(e,t)).isDirectory());return t?s():["/"].concat(s())},delAll=e=>{del.sync([e+"/**","!"+e])};const escapeRegExp=e=>e.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),replaceAll=(e,t,s)=>e.replace(new RegExp(escapeRegExp(t),"g"),s);process.on("unhandledRejection",e=>{console.log(e)});const bump=e=>{if(e.skipBumpVersion)return;let t=e.packageJSON.version.split(".");t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),t[2]=parseInt(t[2]),t[2]>=99999?(t[2]=0,t[1]>=999?(t[1]=0,t[0]+=1):t[1]+=1):t[2]+=1;let s=t[0].toString()+"."+t[1].toString()+"."+t[2].toString();e.packageJSON.version=s,fsx.writeFileSync(e.package,JSON.stringify(e.packageJSON,null,4),"utf8"),e.logger(0,"version",s)},copyDeps=(e,t,s)=>{let n=[];if(e?t.postBuildDeps&&t.depsConfig&&t.depsConfig.post.length>0&&(n=t.depsConfig.post.slice()):t.preBuildDeps&&t.depsConfig&&t.depsConfig.pre.length>0&&(n=t.depsConfig.pre.slice()),0===n.length)return void s();t.logger(0,"deps",e?"(post)":"(pre)",!0);const r=n=>{if(0!==n.length){let s=n.shift();if(t.logger(1,"",s.dest),!e&&s.src.startsWith("http")){let e=null,t="";(e=s.src.startsWith("https")?require("https"):require("http")).get(s.src,e=>{e.on("data",e=>{t+=e}),e.on("end",()=>{let e=path.resolve(s.dest);fsx.ensureFileSync(e),fsx.writeFileSync(e,t,"utf8"),r(n)})}).on("error",e=>{throw`Failed to fetch dependency: ${s.src}. \n\n ${e}`})}else{let e=path.resolve(s.src),t=path.resolve(s.dest);fsx.lstatSync(e).isDirectory()?copyDir.sync(e,t):fsx.copyFileSync(e,t),r(n)}}else s()};r(n)},injector=(e,t)=>{const s="\\s*([\\(\\)\\w@_\\-.\\\\/]+)\\s*",n="<filename>",r="\x3c!--\\s*inject:<filename>--\x3e",i="^([ \\t]*)(.*?)"+r.replace(n,s),a=new RegExp(i,"m");let c,l,o,u,f;for(;u=a.exec(t);){f=u[0],o=u[1],l=u[2],c=u[3];var p=o+l+fsx.readFileSync(path.join(e,c),"utf8").split(/\r?\n/).map((e,t)=>t>0?o+e:e).join("\n");t=t.replace(f,function(){return p})}return t},build=(e,t)=>{const s=e.logger,n=(t,s=!0)=>{s?fsx.writeFileSync(e.current.asm,t,{flag:"a"}):fsx.writeFileSync(e.current.asm,t)},r=()=>{let t=`/**\n`+` * @preserve\n`+` * ${e.packageJSON.title}\n`+` * ${e.packageJSON.description}\n`+` * \n`+` * Assembly: ${e.current.asmName}\n`+` *     File: ${e.current.asm.replace(e.current.dest,".")}\n`+` *  Version: ${e.packageJSON.version}\n`+` *  ${(new Date).toUTCString()}\n`+` * \n`+` * ${e.packageJSON.copyright}\n`+` * Licensed under ${e.packageJSON.license}\n`+` */\n`;n(t)},i=()=>{if(fsx.existsSync(e.current.asmMain)){let t=fsx.readFileSync(e.current.asmMain,"utf8");t=injector(e.current.asmPath,t);for(let s in e.current.ado)e.current.ado.hasOwnProperty(s)&&"string"==typeof e.current.ado[s]&&(t=t.replace(`<<${s}>>`,e.current.ado[s]));n(t),s(0,"index",e.current.asmMain)}},a=()=>{fsx.existsSync(e.current.asm)&&(e.current.asmLupdate=fsx.statSync(e.current.asm).mtime,fsx.removeSync(e.current.asm)),fsx.ensureFileSync(e.current.asm)},c=()=>{e.current.ado={name:e.current.asmName,file:e.current.asm.replace(e.current.dest,".").replace(".js","{.min}.js"),desc:e.packageJSON.description,version:e.packageJSON.version,lupdate:(new Date).toUTCString(),builder:buildInfo,copyright:e.packageJSON.copyright,license:e.packageJSON.license,types:[],resources:[],assets:[]},-1===e.skipRegistrationsFor.indexOf(e.current.asmName)&&e.current.adosJSON.push(e.current.ado)},l=t=>new Promise((s,n)=>{let r=e.lintJS.executeOnFiles([t]);(r.errorCount>0||r.warningCount>0)&&(console.log(e.eslintFormatter(r.results)),n(`Lint for ${t} failed.`)),s()}),o=t=>new Promise((s,n)=>{e.lintCSS({files:[t],config:e.lintConfig.css}).then(e=>{e.errored?(console.log(e.output),n(`Lint for ${t} failed.`)):s()}).catch(n)}),u=t=>new Promise((s,n)=>{let r=fsx.readFileSync(t,"utf8");e.lintHTML(r,e.lintConfig.html).then(r=>{if(r&&r.length>0){let i=[];r.forEach(t=>{let s=t.rule||t.data.name;void 0!==e.lintConfig.html[s]&&!1===e.lintConfig.html[s]||i.push(t)}),i.length>0?(console.log(i),n(`Lint for ${t} failed.`)):s()}else s()}).catch(n)}),f=(t,s,n)=>new Promise((r,i)=>{let a=fsx.readFileSync(t,"utf8");e.generateJSSourceMap&&s&&(e.minifyConfig.js.sourceMap={root:"",url:n});let c=e.minifyJS(a,e.minifyConfig.js);e.generateJSSourceMap&&s&&delete e.minifyConfig.js.sourceMap,c.error?(console.log(c.error),i(`Minify for ${t} failed.`)):(e.generateJSSourceMap&&s&&c.map&&fsx.writeFileSync(s,c.map,"utf8"),r(c.code))}),p=t=>new Promise((s,n)=>{let r=fsx.readFileSync(t,"utf8"),i=new e.minifyCSS(e.minifyConfig.css).minify(r);i.errors.length>0?(console.log(i.errors),n(`Minify for ${t} failed.`)):s(i.styles)}),d=t=>new Promise((s,n)=>{let r=fsx.readFileSync(t,"utf8"),i;s(e.minifyHTML(r,e.minifyConfig.html))}),m=t=>new Promise((s,n)=>{if(!e.fullBuild&&e.current.asmLupdate){let n;if(fsx.statSync(t).mtime<e.current.asmLupdate)return void s()}let r=path.extname(t).substr(1);if(-1!==e.lintTypes.indexOf(r))switch(r){case"js":l(t).then(s).catch(n);break;case"css":o(t).then(s).catch(n);break;case"html":u(t).then(s).catch(n);break;default:s();break}else s()}),g=t=>new Promise((s,n)=>{let r=path.extname(t).substr(1),i=t.replace("."+r,".min."+r),a=i+".map",c=a.replace(e.current.dest,".");if(-1!==e.minifyTypes.indexOf(r)){let e=null;switch(r){case"js":e=f(t,a,c);break;case"css":e=p(t);break;case"html":e=d(t);break}null===e?s(""):e.then(e=>{fsx.writeFileSync(i,e,"utf8"),s(e)}).catch(n)}else s("")}),y=t=>new Promise((s,n)=>{let r=fsx.readFileSync(t,"utf8"),i=path.extname(t).substr(1),a=t+".gz";if(-1!==e.gzipTypes.indexOf(i)){let t=e.gzipConfig[i]||e.gzipConfig.all;fsx.writeFileSync(a,e.zlib.gzipSync(r,t))}s()}),S=(t,n)=>{if(n=n||[],0===e.current.ado.assets.length)return e.current.ado.assets=n,void t();let r=e.current.ado.assets.splice(0,1)[0];if(n.push(r.dest.replace(e.current.dest,".")),!e.fullBuild&&fsx.existsSync(r.dest)){let e,s;if(fsx.statSync(r.src).mtime.toString()===fsx.statSync(r.dest).mtime.toString())return void S(t,n)}e.current.isAssetsHeadingPrinted||(s(0,"assets",""),e.current.isAssetsHeadingPrinted=!0),fsx.ensureDirSync(path.dirname(r.dest)),fsx.copyFileSync(r.src,r.dest),r.stat=r.dest.replace(e.current.dest,".")+" ("+Math.round(fsx.statSync(r.dest).size/1024)+"kb";let i="";const a=()=>{r.stat+=")",s(1,"",r.stat),delete r.stat,S(t,n)},c=()=>{let t="";e.gzip?e.minify&&fsx.existsSync(i)?(t=i+".gz",y(i).then(()=>{fsx.existsSync(t)&&(r.stat+=", "+Math.round(fsx.statSync(t).size/1024)+"kb gzipped"),a()}).catch(e=>{throw e})):(t=r.dest+".gz",y(r.dest).then(()=>{fsx.existsSync(t)&&(r.stat+=", "+Math.round(fsx.statSync(t).size/1024)+"kb gzipped"),a()}).catch(e=>{throw e})):(e.fullBuild||(t=i+".gz",fsx.existsSync(t)?fsx.removeSync(t):(t=r.dest+".gz",fsx.existsSync(t)&&fsx.removeSync(t))),a())},l=()=>{if(i=r.dest.replace("."+r.ext,".min."+r.ext),e.minify)g(r.dest).then(()=>{fsx.existsSync(i)&&(r.stat+=", "+Math.round(fsx.statSync(i).size/1024)+"kb minified"),c()}).catch(e=>{throw e});else{!e.fullBuild&&fsx.existsSync(i)&&fsx.removeSync(i);let t=i+".map";!e.fullBuild&&fsx.existsSync(t)&&fsx.removeSync(t),c()}};e.lintAssets?m(r.dest).then(l).catch(e=>{throw e}):l()},h=t=>{if(0===e.current.ado.types.length)return void t();let r="";fsx.existsSync(e.current.asmSettings)&&(r=JSON.stringify(fsx.readJSONSync(e.current.asmSettings)),s(0,"settings",e.current.asmSettings));let i=`(() => {\n`+`'use strict';\n\n`+`/* eslint-disable no-unused-vars */\n`+`const flair = (typeof global !== 'undefined' ? require('flair') : (typeof WorkerGlobalScope !== 'undefined' ? WorkerGlobalScope.flair : window.flair));\n`+`const { Class, Struct, Enum, Interface, Mixin } = flair;\n`+`const { Aspects } = flair;\n`+`const { AppDomain } = flair;\n`+`const __currentContextName = flair.AppDomain.context.current().name;\n`+`const { $$, attr } = flair;\n`+`const { bring, Container, include } = flair;\n`+`const { Port } = flair;\n`+`const { on, post, telemetry } = flair;\n`+`const { Reflector } = flair;\n`+`const { Serializer } = flair;\n`+`const { Tasks } = flair;\n`+`const { TaskInfo } = flair.Tasks;\n`+`const { as, is, isComplies, isDerivedFrom, isImplements, isInstanceOf, isMixed } = flair;\n`+`const { getAssembly, getAttr, getContext, getResource, getType, ns, getTypeOf, typeOf } = flair;\n`+`const { dispose, using } = flair;\n`+`const { args, Exception, noop, nip, nim, nie, event } = flair;\n`+`const { env } = flair.options;\n`+`/* eslint-enable no-unused-vars */\n`+`\n`;r&&(i+=`const settings = JSON.parse('${r}'); // eslint-disable-line no-unused-vars\n`),n(i),s(0,"types","");let a=`flair.AppDomain.context.current().currentAssemblyBeingLoaded('${e.current.ado.file}');\n`;n(a);let c=[],l="",o;for(let t of e.current.ado.types){c.push(t.qualifiedName),l="./"+t.file,s(1,"",t.qualifiedName+" ("+l+")");let e=fsx.readFileSync(t.file,"utf8");e=replaceAll(e,`$$('ns', '(auto)');`,`$$$('ns', '${t.nsName}');`),e=replaceAll(e,`$$("ns", "(auto)");`,`$$$("ns", "${t.nsName}");`),e=replaceAll(e,`Class('(auto)'`,`Class('${t.typeName}'`),e=replaceAll(e,`Class("(auto)"`,`Class("${t.typeName}"`),e=replaceAll(e,`Struct('(auto)'`,`Struct('${t.typeName}'`),e=replaceAll(e,`Struct("(auto)"`,`Struct("${t.typeName}"`),e=replaceAll(e,`Mixin('(auto)'`,`Mixin('${t.typeName}'`),e=replaceAll(e,`Mixin("(auto)"`,`Mixin("${t.typeName}"`),e=replaceAll(e,`Enum('(auto)'`,`Enum('${t.typeName}'`),e=replaceAll(e,`Enum("(auto)"`,`Enum("${t.typeName}"`),e=replaceAll(e,`Interface('(auto)'`,`Interface('${t.typeName}'`),e=replaceAll(e,`Interface("(auto)"`,`Interface("${t.typeName}"`),e=injector(t.nsPath,e),n(e=`\n(async () => { // ${l}\n'use strict';\n${e}\n})();\n`)}e.current.ado.types=c,n(a=`flair.AppDomain.context.current().currentAssemblyBeingLoaded('');\n`),n(`\n`+`})();\n`),t()},x=(t,r)=>{if(r=r||[],0===e.current.ado.resources.length)return e.current.ado.resources=r,void t();let i=e.current.ado.resources.splice(0,1)[0];r.push(i.qualifiedName),1===r.length&&s(0,"resources",""),s(1,"",i.qualifiedName+" (./"+i.file+")");const a=s=>{let a="";s?a="utf8;":-1!==e.utf8EncodeResourceTypes.indexOf(i.ext)?(s=fsx.readFileSync(i.file,"utf8"),a="utf8;"):s=fsx.readFileSync(i.file),s=Buffer.from(s).toString("base64"),a+="base64;";let c={name:i.qualifiedName,encodingType:a,asmFile:e.current.ado.file,file:"./"+i.file,data:s},l=`(() => { let rdo = JSON.parse('${JSON.stringify(c)}'); flair.AppDomain.context.current().registerResource(rdo);})();\n`;n(l),x(t,r)},c=()=>{if(e.minifyResources)if(-1!==e.minifyTypes.indexOf(i.ext))if(-1!==e.minifyTypes.indexOf(i.ext)){let e=null;switch(i.ext){case"js":e=f(i.file);break;case"css":e=p(i.file);break;case"html":e=d(i.file);break}null===e?a():e.then(a).catch(e=>{throw e})}else a();else a();else a()};e.lintResources?m(i.file).then(c).catch(e=>{throw e}):c()},N=()=>{if(-1!==e.skipRegistrationsFor.indexOf(e.current.asmName))return;s(0,"self-reg","yes");let t=`(() => { flair.AppDomain.registerAdo('${JSON.stringify(e.current.ado)}');})();\n`;n(t)},b=t=>{e.current.stat=e.current.asm.replace(e.current.dest,".")+" ("+Math.round(fsx.statSync(e.current.asm).size/1024)+"kb";let s="";const n=()=>{e.current.stat+=")",t()},r=()=>{let t=s+".gz";e.gzip?y(s).then(()=>{e.current.stat+=", "+Math.round(fsx.statSync(t).size/1024)+"kb gzipped",n()}).catch(e=>{throw e}):(!e.fullBuild&&fsx.existsSync(t)&&fsx.removeSync(t),n())},i=()=>{if(s=e.current.asm.replace(".js",".min.js"),e.minify)g(e.current.asm).then(()=>{e.current.stat+=", "+Math.round(fsx.statSync(s).size/1024)+"kb minified",r()}).catch(e=>{throw e});else{!e.fullBuild&&fsx.existsSync(s)&&fsx.removeSync(s);let t=s+".map";!e.fullBuild&&fsx.existsSync(t)&&fsx.removeSync(t),r()}};e.lint?m(e.current.asm).then(i).catch(e=>{throw e}):i()},C=()=>{if(0===e.current.adosJSON.length)return;s(0,"preamble",e.current.preamble.replace(e.current.dest.replace("./",""),"."));let t,n=`(() => { let ados = JSON.parse('${JSON.stringify(e.current.adosJSON)}');flair.AppDomain.registerAdo(ados);})();`;fsx.writeFileSync(e.current.preamble,n)},O=()=>{let t=rrd(e.current.nsPath);for(let s of t){if(-1!==s.indexOf("/_"))continue;let t={nsPath:e.current.nsPath,nsName:e.current.nsName,ext:path.extname(s).toLowerCase().substr(1),file:s};if(!s.endsWith(".spec.js")&&(s.endsWith(".res.js")?(t.typeName=path.basename(s).replace(".res.js",""),t.type="res"):s.endsWith(".js")?(t.typeName=path.basename(s).replace(".js",""),t.type="type"):s.endsWith(".res."+t.ext)&&(t.typeName=path.basename(s).replace(".res."+t.ext,""),t.type="res"),t.type)){if(-1!==t.typeName.indexOf("."))throw`Type/Resource names cannot contain dots. (${t.typeName})`;t.qualifiedName=("(root)"!==e.current.nsName?e.current.nsName+".":"")+t.typeName,"res"===t.type?e.current.ado.resources.push(t):e.current.ado.types.push(t)}}},v=()=>{if(e.current.astSrc="./"+path.join(e.current.asmPath,"(assets)"),e.current.astDest="./"+path.join(e.current.dest,e.current.asmName),fsx.existsSync(e.current.astSrc)){let t=rrd(e.current.astSrc);for(let s of t){if(-1!==s.indexOf("/_"))continue;let t={ext:path.extname(s).toLowerCase().substr(1),src:"./"+s,dest:"./"+path.join(e.current.astDest,s.replace(e.current.astSrc.replace("./",""),""))};e.current.ado.assets.push(t)}}delete e.current.astSrc,delete e.current.astDest},j=()=>{if(e.current.libsSrc="./"+path.join(e.current.asmPath,"(libs)"),e.current.libsDest="./"+path.join(e.current.dest,e.current.asmName),fsx.existsSync(e.current.libsSrc)){s(0,"libs",e.current.libsSrc);let t=rrd(e.current.libsSrc);for(let s of t){if(-1!==s.indexOf("/_"))continue;let t={ext:path.extname(s).toLowerCase().substr(1),src:"./"+s,dest:"./"+path.join(e.current.libsDest,s.replace(e.current.libsSrc.replace("./",""),""))};fsx.copySync(t.src,t.dest,{errorOnExist:!0})}}delete e.current.libsSrc,delete e.current.libsDest},$=t=>{if(0===e.current.namespaces.length)return delete e.current.nsName,delete e.current.nsPath,void t();let s=e.current.namespaces.splice(0,1)[0];s.startsWith("_")?$(t):-1===["(assets)","(libs)","(bundle)"].indexOf(s)?(e.current.nsName=s,e.current.nsPath="./"+path.join(e.current.asmPath,e.current.nsName),O(),$(t)):$(t)},A=t=>{if(0===e.current.assemblies.length)return void t();let n=e.current.assemblies.splice(0,1)[0];if(n.startsWith("_"))return void A(t);s(0,"asm",n,!0),e.current.asmName=n,e.current.asmPath="./"+path.join(e.current.src,e.current.asmName),e.current.asm="./"+path.join(e.current.dest,e.current.asmName+".js"),e.current.asmMain="./"+path.join(e.current.src,e.current.asmName,"index.js"),e.current.asmSettings="./"+path.join(e.current.src,e.current.asmName,"settings.json"),a(),c(),r(),i();let l=getFolders(e.current.asmPath,!0);e.current.namespaces=l,$(()=>{v(),S(()=>{j(),h(()=>{x(()=>{N(),b(()=>{s(0,"==>",e.current.stat),A(t)})})})})})},z=t=>{if(0===e.sources.length)return void t();let n=e.sources.splice(0,1)[0];if(n.startsWith("_"))return void z(t);s(0,"group",`${n.replace(n,".")} (start)`,!0),e.current={},e.current.src=n,e.current.dest=n.replace(e.current.src,e.dest),e.current.adosJSON=[],e.current.preamble=path.join(e.current.dest,"preamble.js");let r=getFolders(e.current.src,!0);e.current.assemblies=r,A(()=>{C(),s(0,"group",`${n.replace(n,".")} (end)`,!0),e.current={},z(t)})};e.fullBuild&&(delAll(e.dest),s(0,"clean","done")),z(t)};exports.flairBuild=function(e,t){(e=e||{}).engine=e.engine||"",e.package=e.package||"./package.json",e.dest=e.dest||"./dist",e.src=e.src||"./src",e.processAsGroups=e.processAsGroups||!1,e.fullBuild=e.fullBuild||!1,e.skipBumpVersion=e.skipBumpVersion||!1,e.suppressLogging=e.suppressLogging||!1,e.lint=void 0===e.lint||e.lint,e.lintConfig=e.lintConfig||"",e.lintTypes=e.lintTypes||["js","css","html"],e.minify=void 0===e.minify||e.minify,e.minifyConfig=e.minifyConfig||"",e.minifyTypes=e.minifyTypes||["js","css","html"],e.generateJSSourceMap=void 0!==e.generateJSSourceMap&&e.generateJSSourceMap,e.gzip=e.gzip||!1,e.gzipConfig=e.gzipConfig||"",e.gzipTypes=e.gzipTypes||["js","css","html","txt","xml","md","json","svg","jpg","jpeg","gif","png"],e.lintAssets=e.lintAssets||!1,e.minifyAssets=e.minifyAssets||!1,e.gzipAssets=e.gzipAssets||!1,e.lintResources=void 0===e.lintResources||e.lintResources,e.minifyResources=void 0===e.minifyResources||e.minifyResources,e.utf8EncodeResourceTypes=e.utf8EncodeResourceTypes||["txt","xml","js","md","json","css","html","svg"],e.depsConfig=e.depsConfig||"",e.preBuildDeps=e.preBuildDeps||!1,e.postBuildDeps=e.postBuildDeps||!1,e.fullBuild?(e.lint=!!e.lintConfig,e.minify=!!e.minifyConfig,e.gzip=!!e.gzipConfig,e.preBuildDeps=!!e.depsConfig,e.postBuildDeps=!!e.depsConfig,e.lintResources=e.lint&&e.lintResources,e.minifyResources=e.minify&&e.minifyResources,e.minifyAssets=e.minify&&e.minifyAssets,e.gzipAssets=e.gzip&&e.gzipAssets):(e.lintResources=e.lint&&e.lintResources,e.lintTypes=["js"],e.minify=!1,e.gzip=!1,e.minifyAssets=!1,e.gzipAssets=!1,e.minifyResources=!1,e.preBuildDeps=!1),e.skipRegistrationsFor=[];const s=(t,s,n,r,i)=>{if(e.suppressLogging)return;let a;s=" ".repeat(15-s.length)+s+(0===t?": ":""),0!==t&&(n="- "+n),s=s+"  ".repeat(t)+n.toString(),r&&(s="\n"+s),i&&(s+="\n"),console.log(s)};if(e.logger=s,e.packageJSON=fsx.readJSONSync(path.resolve(e.package)),e.lintConfig=e.lintConfig?fsx.readJSONSync(path.resolve(e.lintConfig)):null,e.minifyConfig=e.minifyConfig?fsx.readJSONSync(path.resolve(e.minifyConfig)):null,e.gzipConfig=e.gzipConfig?fsx.readJSONSync(path.resolve(e.gzipConfig)):null,e.depsConfig=e.depsConfig?fsx.readJSONSync(path.resolve(e.depsConfig)):null,e.lint&&e.lintConfig){if(-1!==e.lintTypes.indexOf("js")){const t=new require("eslint").CLIEngine;e.lintJS=new t(e.lintConfig.js),e.eslintFormatter=e.lintJS.getFormatter()}-1!==e.lintTypes.indexOf("css")&&(e.lintCSS=require("stylelint").lint),-1!==e.lintTypes.indexOf("html")&&(e.lintHTML=require("htmllint"))}e.minify&&e.minifyConfig&&(-1!==e.minifyTypes.indexOf("js")&&(e.minifyJS=require("uglify-es").minify),-1!==e.minifyTypes.indexOf("css")&&(e.minifyCSS=require("clean-css")),-1!==e.minifyTypes.indexOf("html")&&(e.minifyHTML=require("html-minifier").minify)),e.gzip&&e.gzipConfig&&(e.zlib=require("zlib")),s(0,"flairBuild","start",!0);let n=[];e.processAsGroups?n=getFolders(e.src,!0):n.push(e.src),e.sources=n,bump(e),copyDeps(!1,e,()=>{build(e,()=>{copyDeps(!0,e,()=>{s(0,"flairBuild","end",!0,!0),"function"==typeof t&&t()})})})},flair.AppDomain.registerAdo('{"name":"flair.cli","file":"./flair.cli{.min}.js","desc":"True Object Oriented JavaScript","version":"0.15.968","lupdate":"Sun, 10 Mar 2019 05:51:04 GMT","builder":{"name":"<<name>>","version":"<<version>>","format":"fasm","formatVersion":"1","contains":["initializer","types","enclosureVars","enclosedTypes","resources","assets","selfreg"]},"copyright":"(c) 2017-2019 Vikas Burman","license":"MIT","types":[],"resources":[],"assets":[]}');
//# sourceMappingURL=./flair.cli.min.js.map