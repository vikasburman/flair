/**
 * @preserve
 * Flair.js
 * True Object Oriented JavaScript
 * 
 * Assembly: flair.app
 *     File: ./flair.app.js
 *  Version: 0.7.85
 *  Mon, 20 May 2019 02:01:32 GMT
 * 
 * (c) 2017-2019 Vikas Burman
 * MIT
 */
!function(t,e){"use strict";"function"==typeof!0&&(!0).amd?(!0)(e):"object"==typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),module.exports=exports=e):t["flair.app"]=e}(this,async function(t,e){"use strict";const{Class:i,Struct:r,Enum:s,Interface:n,Mixin:a,Aspects:o,AppDomain:l,$$:c,attr:p,bring:u,Container:h,include:d,Port:f,on:v,post:w,telemetry:m,Reflector:y,Serializer:b,Tasks:g,as:$,is:x,isComplies:S,isDerivedFrom:V,isAbstract:E,isSealed:O,isStatic:I,isSingleton:H,isDeprecated:R,isImplements:L,isInstanceOf:T,isMixed:B,getAssembly:C,getAttr:M,getContext:P,getResource:j,getRoute:k,getType:A,ns:D,getTypeOf:F,getTypeName:z,typeOf:W,dispose:N,using:J,Args:U,Exception:q,noop:K,nip:G,nim:Q,nie:X,event:Y}=t,{TaskInfo:Z}=t.Tasks,{env:_}=t.options,{guid:tt,forEachAsync:et,replaceAll:it,splitAndTrim:rt,findIndexByProp:st,findItemByProp:nt,which:at,isArrowFunc:ot,isASyncFunc:lt,sieve:ct,deepMerge:pt,getLoadedScript:ut,b64EncodeUnicode:ht,b64DecodeUnicode:dt}=t.utils,{$$static:ft,$$abstract:vt,$$virtual:wt,$$override:mt,$$sealed:yt,$$private:bt,$$privateSet:gt,$$protected:$t,$$protectedSet:xt,$$readonly:St,$$async:Vt,$$overload:Et,$$enumerate:Ot,$$dispose:It,$$post:Ht,$$on:Rt,$$timer:Lt,$$type:Tt,$$args:Bt,$$inject:Ct,$$resource:Mt,$$asset:Pt,$$singleton:jt,$$serialize:kt,$$deprecate:At,$$session:Dt,$$state:Ft,$$conditional:zt,$$noserialize:Wt,$$ns:Nt}=c,Jt=_.isServer||_.isWorker?null:(!0).document,Ut=l.context.current().name,qt=e,Kt=qt.substr(0,qt.lastIndexOf("/")+1);l.loadPathOf("flair.app",Kt);let Gt=JSON.parse('{"host":"flair.app.ServerHost | flair.app.ClientHost","app":"flair.app.App","boot":{"files":[],"preambles":[],"bootwares":[]},"di":{"container":{}},"client":{"view":{"el":"main","title":"","transition":""},"url":{"hashbang":false,"i18n":false,"routes":{"home":"","notfound":""}},"i18n":{"enabled":true,"locale":"en","locales":[{"code":"en","name":"English","native":"English"}]},"routing":{"mounts":{"main":"/"},"main-options":[],"main-interceptors":[]}},"server":{"express":{"server-http":{"enable":false,"port":80,"timeout":-1},"server-https":{"enable":false,"port":443,"timeout":-1,"privateKey":"","publicCert":""}},"envVars":{"vars":[],"options":{"overwrite":true}},"routing":{"mounts":{"main":"/"},"main-appSettings":[],"main-middlewares":[],"main-interceptors":[],"main-resHeaders":[]}}}'),Qt=t.Port("settingsReader");if("function"==typeof Qt){let t=Qt("flair.app");t&&(Gt=pt([Gt,t],!1))}Gt=Object.freeze(Gt);let Xt=JSON.parse("{}");Xt=Object.freeze(Xt);let Yt=()=>{};return l.context.current().currentAssemblyBeingLoaded("./flair.app{.min}.js"),await(async()=>{c("abstract"),c("ns","flair.app"),i("Bootware",function(){c("virtual"),this.construct=((t,e,i)=>{let r=U("name: string, version: string","name: string, version: string, isMountSpecific: boolean","name: string, isMountSpecific: boolean","name: string")(t,e,i);r.throwOnError(this.construct),this.info=Object.freeze({name:r.values.name||"",version:r.values.version||"",isMountSpecific:r.values.isMountSpecific||!1})}),c("virtual"),c("async"),this.boot=K,c("readonly"),this.info=null,c("virtual"),c("async"),this.ready=K,c("virtual"),this.dispose=K})})(),await(async()=>{const{IDisposable:t}=D();c("ns","flair.app"),i("Handler",[t],function(){c("virtual"),this.construct=(()=>{}),c("virtual"),this.dispose=(()=>{})})})(),await(async()=>{const{IDisposable:t}=D(),{Bootware:e}=D("flair.app");c("ns","flair.app"),i("App",e,[t],function(){c("override"),this.construct=(t=>{let e=C(this);t(e.title,e.version)}),c("override"),c("sealed"),this.boot=(async t=>{t(),l.host().error.add(this.handleError)}),this.start=(async()=>{if(!_.isServer&&!_.isWorker){const{ViewState:t}=D("flair.ui");new t}await this.onStart()}),c("virtual"),c("async"),this.onStart=K,c("override"),c("sealed"),this.ready=(async()=>{await this.onReady()}),c("virtual"),c("async"),this.onReady=K,this.stop=(async()=>{if(!_.isServer&&!_.isWorker){const{ViewState:t}=D("flair.ui");(new t).clear()}await this.onStop()}),c("virtual"),c("async"),this.onStop=K,c("private"),this.handleError=(t=>{this.onError(t.args.error)}),c("virtual"),this.onError=(t=>{throw q.OperationFailed(t,this.onError)}),c("override"),this.dispose=(t=>{t(),l.host().error.remove(this.handleError)})})})(),await(async()=>{const{IDisposable:t}=D(),{Bootware:e}=D("flair.app");c("ns","flair.app"),i("Host",e,[t],function(){c("virtual"),c("async"),this.start=K,c("virtual"),c("async"),this.stop=K,this.error=Y(t=>({error:t})),this.raiseError=(t=>{this.error(t)})})})(),await(async()=>{const{Handler:t}=D("flair.app");c("ns","flair.ui"),i("ViewHandler",t,function(){let t="";c("override"),this.construct=((e,i,r,s)=>{e(),i=i||Gt.client.view.el||"main",r=r||Gt.client.view.title||"",s=s||Gt.client.view.transition||"",t=i,this.viewTransition=s,this.title=this.title+(r?" - "+r:"")}),c("privateSet"),this.viewTransition="",c("protectedSet"),this.name="",c("protectedSet"),this.title="",c("protectedSet"),this.meta=null,this.view=(async e=>{const{ViewTransition:i}=D("flair.ui");if(this.name=this.name||this.$obj.id,this.viewTransition){let t=$(await d(this.viewTransition),i);this.viewTransition=t?new t:""}let r=Jt.createElement("div"),s=Jt.getElementById(t);r.id=this.name,r.setAttribute("hidden",""),s.appendChild(r),await this.loadView(e,r),await this.swap()}),c("protected"),c("virtual"),c("async"),this.loadView=K,c("private"),this.swap=(async()=>{let e=Jt.getElementById(this.name);if(this.$static.currentView){let i=Jt.getElementById(this.$static.currentView);if(this.$static.currentViewMeta)for(let t of this.$static.currentViewMeta)Jt.head.removeChild(Jt.querySelector('meta[name="'+t+'"]'));this.viewTransition?(await this.viewTransition.leave(i,e),await this.viewTransition.enter(e,i)):(i&&(i.hidden=!0),e.hidden=!1);let r=Jt.getElementById(t);i&&r.removeChild(i)}if(this.meta)for(let t of this.meta){var i=document.createElement("meta");for(let e in t)i[e]=t[e];Jt.head.appendChild(i)}this.$static.currentView||(e.hidden=!1),Jt.title=this.title,this.$static.currentView=this.name,this.$static.currentViewMeta=this.meta}),c("static"),this.currentView=null,c("static"),this.currentViewMeta=null})})(),await(async()=>{const{ViewHandler:t}=D("flair.ui");c("static"),c("ns","flair.ui"),i("View",function(){this.current={get:function(){return t.currentView},set:function(){}},c("readonly"),this.i18n=Gt.client.i18n.enabled,c("overload","string"),this.navigate=function(t){return this.navigate(t,{})},c("overload","string, object"),this.navigate=function(t,e){let i=l.host().route(t,e);i||t===Gt.client.url.routes["404"]||(i=l.host().route(Gt.client.url.routes["404"],{notfound:t}));let r=!0;if(i&&(e&&e.notfound===i||(r=!1,"#"===i.substr(0,1)&&(i=i.substr(1)),setTimeout(()=>{window.location.hash=i},0))),r)throw q.NotFound(t,this.navigate)}})})(),await(async()=>{const{Handler:t}=D("flair.app");c("ns","flair.api"),i("RestHandler",t,function(){c("virtual"),this.get=K,c("virtual"),this.post=K,c("virtual"),this.put=K,c("virtual"),this.delete=K})})(),await(async()=>{c("ns","flair.api"),i("RestInterceptor",function(){c("virtual"),c("async"),this.run=K})})(),await(async()=>{const{Bootware:e}=D("flair.app");c("static"),c("ns","flair.app"),i("BootEngine",function(){this.start=async function(){let i=[],r=[];const s=async()=>{for(let t of Gt.boot.files)(t=at(t))&&await d(t)},n=async()=>{let e=null;for(let i of Gt.boot.preambles)(i=at(i))&&(e=await d(i),await e(t))},a=async()=>{let t=null,s=null,n=null;for(let a of Gt.boot.bootwares)(a=at(a))&&(t=await d(a))&&"boolean"!=typeof t&&(s=$(t,e))&&(n=new s,i.push(n),n.info.isMountSpecific&&r.push(n))},o=async t=>{if(_.isWorker){0!==r.length&&console.warn("Mount specific bootwares are not supported for worker environment. Revisit worker:flair.app->load setting.");for(let e of i)e.info.isMountSpecific||await e[t]()}else{let e=l.host().mounts,s=Object.keys(e),n="",a=null;a=e[n="main"];for(let e of i)await e[t](a);for(let i of s)if("main"!==i){a=e[i];for(let e of r)await e[t](a)}}},c=async()=>{const t=await d(Gt.host),e=await d(Gt.app);if(!_.isWorker){let e=new t;await e.boot(),l.host(e)}await o("boot");let i=new e;await i.boot(),l.app(i)},p=async()=>{_.isWorker||await l.host().start(),await l.app().start()},u=()=>new Promise((t,e)=>{"loading"!==document.readyState?t():(!0).document.addEventListener("DOMContentLoaded",()=>{t()})}),h=()=>new Promise((t,e)=>{(!0).document.addEventListener("deviceready",()=>{t()},!1)}),f=async()=>{_.isClient&&!_.isWorker&&(await u(),_.isCordova&&await h()),_.isWorker||await l.host().ready(),await o("ready"),await l.app().ready()};await s(),await n(),await a(),await c(),await p(),await f(),console.log("ready!")}})})(),await(async()=>{const{Host:t}=D("flair.app"),{View:e}=D("flair.ui");c("sealed"),c("ns","flair.app"),i("ClientHost",t,function(){let t={},i=null;c("override"),this.construct=(t=>{t("Page","1.x")}),this.app={get:()=>this.mounts["main"].app,set:K},this.mounts={get:()=>t,set:K},c("state"),c("private"),this.currentLocale=Gt.client.i18n.locale,this.defaultLocale={get:()=>Gt.client.i18n.locale,set:K},this.supportedLocales={get:()=>Gt.client.i18n.locales.slice(),set:K},this.locale=((t,e)=>Gt.client.i18n.enabled?(t&&this.currentLocale!==t&&(this.currentLocale=t,e||(Gt.client.url.i18n?window.location.hash=this.replaceLocale((!0).location.hash):i&&i())),this.currentLocale):""),c("private"),this.cleanPath=(t=>("/"===t.substr(0,1)&&(t=t.substr(1)),"#!/"===t.substr(0,3)&&(t=t.substr(3)),"#!"===t.substr(0,2)&&(t=t.substr(2)),"#/"===t.substr(0,2)&&(t=t.substr(2)),"#"===t.substr(0,1)&&(t=t.substr(1)),"/"===t.substr(0,1)&&(t=t.substr(1)),t)),c("private"),this.extractLocale=(t=>{if(!Gt.client.url.i18n)return"";let e=t.indexOf("/");if(-1!==e){let i=t.substr(0,e);if(-1!==this.supportedLocales.indexOf(i))return i}return""}),c("private"),this.trimLocale=((t,e)=>{let i=e+"/",r=t.indexOf(i);return-1!==r?t.substr(r+i.length):t}),c("private"),this.replaceLocale=(t=>{if(Gt.client.url.i18n){t=this.cleanPath(t);let e=this.extractLocale(t);e&&(t=this.trimLocale(t,e)),t=this.path(t)}return t}),this.path=(t=>t?(t=this.cleanPath(t),Gt.client.i18n.enabled&&Gt.client.url.i18n&&(t=(this.currentLocale||this.defaultLocale)+"/"+t),t=Gt.client.url.hashbang?"#!/"+t:"#/"+t):""),this.route=((t,e)=>{if(!t)return;let i="",r=l.context.current().getRoute(t);if(r&&(i=r.path),i&&e){let t=i.indexOf(":"),r=-1,s="";for(;-1!==t;)s=-1===(r=i.substr(t+1).indexOf("/"))?i.substr(t+1):i.substr(t+1,r),t=(i=it(i,":"+s,e[s])).indexOf(":")}return this.path(i)}),c("override"),this.boot=(async e=>{e();const i=await d("page/page{.min}.js","page");let r=null,s="",n=null;const a=t=>{let e={},i=Gt.client.routing[`${t}-options`];if(i&&i.length>0)for(let t of i)e[t.name]=t.value;return e.click=!1,e.popstate=!1,e.dispatch=!1,e.hashbang=!1,e.decodeURLComponents=!0,e.window=!0,e};i(r=a("main"));let o=i;o.strict(r.strict),o.base("/");for(let e of Object.keys(Gt.client.routing.mounts))"main"===e?(s="/",n=o):(r=a(e),s=Gt.client.routing.mounts[e],(n=i.create(r)).strict(r.strict),n.base(s)),t[e]=Object.freeze({name:e,root:s,app:n});t=Object.freeze(t)}),c("override"),this.start=(async t=>{t(),i=(()=>{let t=this.cleanPath((!0).location.hash);if(Gt.client.i18n.enabled&&Gt.client.url.i18n){let e=this.extractLocale(t);e&&(t=this.trimLocale(t,e),this.locale(e,!0))}t=("/"!==t.substr(0,1)?"/":"")+t;let e=null,i="";for(let r in this.mounts)if(this.mounts.hasOwnProperty(r)&&t.startsWith(r.root)){e=r.app,t=t.substr(r.root.length),i=r;break}e||(i="main",e=this.mounts[i]),"/"!==t.substr(0,1)&&(t="/"+t),setTimeout(()=>{try{e.app(t)}catch(t){this.error(t)}},0)})}),c("override"),this.ready=(async t=>{t(),(!0).addEventListener("hashchange",i),e.navigate(Gt.client.url.routes.home),console.log(`${l.app().info.name}, v${l.app().info.version}`)}),c("override"),this.stop=(async t=>{t(),(!0).removeEventListener("hashchange",i)}),c("override"),this.dispose=(e=>{e(),t=null})})})(),await(async()=>{const{Host:t}=D("flair.app");c("sealed"),c("ns","flair.app"),i("ServerHost",t,function(){let t={},e=null,i=null,r=Gt.server.express["server-http"],s=Gt.server.express["server-https"];c("override"),this.construct=(t=>{t("Express","4.x")}),this.app={get:()=>this.mounts["main"].app,set:K},this.mounts={get:()=>t,set:K},c("override"),this.boot=(async e=>{e();const i=await d("express | x"),r=(t,e)=>{let i=Gt.server.routing[`${t}-appSettings`];if(i&&i.length>0)for(let t of i)e.set(t.name,t.value)};let s=i();r("main",s);let n="",a=null;for(let e of Object.keys(Gt.server.routing.mounts))"main"===e?(n="/",a=s):(n=Gt.server.routing.mounts[e],a=i()),t[e]=Object.freeze({name:e,root:n,app:a}),"main"!==e&&(r(e,a),s.use(n,a));t=Object.freeze(t)}),c("override"),this.start=(async t=>{t();const n=await d("fs | x"),a=await d("http | x"),o=await d("https | x"),c=await d("http-shutdown | x");if(r.enable&&((e=c(e=a.createServer(this.app))).on("error",t=>{this.error(t)}),-1!==r.timeout&&(e.timeout=r.timeout)),s.enable){const t=n.readFileSync(l.resolvePath(s.privateKey),"utf8"),e=n.readFileSync(l.resolvePath(s.publicCert),"utf8"),r={key:t,cert:e};(i=c(i=o.createServer(r,this.app))).on("error",t=>{this.error(t)}),-1!==s.timeout&&(i.timeout=s.timeout)}}),c("override"),this.ready=(t=>new Promise((n,a)=>{t();let o=r.port||80,c=process.env.PORT||s.port||443;e&&i?e.listen(o,()=>{i.listen(c,()=>{console.log(`${l.app().info.name}, v${l.app().info.version} (http: ${o}, https: ${c})`),n()})}):e?e.listen(o,()=>{console.log(`${l.app().info.name}, v${l.app().info.version} (http: ${o})`),n()}):i?i.listen(c,()=>{console.log(`${l.app().info.name}, v${l.app().info.version} (https: ${c})`),n()}):(console.log(`${l.app().info.name}, v${l.app().info.version}`),n())})),c("override"),this.stop=(async t=>{t(),e&&(console.log("http server is shutting down..."),e.shutdown(()=>{e=null,console.log("http server is cleanly shutdown!")})),i&&(console.log("https server is shutting down..."),i.shutdown(()=>{i=null,console.log("https server is cleanly shutdown!")}))}),c("override"),this.dispose=(e=>{e(),t=null})})})(),await(async()=>{const{Bootware:t}=D("flair.app");c("sealed"),c("ns","flair.boot"),i("ClientRouter",t,function(){const{ViewHandler:t,ViewInterceptor:e}=D("flair.ui");let i=null;c("override"),this.construct=(t=>{t("Client Router",!0)}),c("override"),this.boot=(async(r,s)=>{r(),i||(i=l.context.current().allRoutes(!0)).sort((t,e)=>t.index<e.index?-1:t.index>e.index?1:0);const n=(t,e)=>new Promise((i,r)=>{try{let s;(new t).run(e).then(()=>{e.$stop?r():i()}).catch(r)}catch(t){r(t)}}),a=(t,i)=>et(t,(t,r,s)=>{d(s).then(a=>{let o=$(a,e);o?n(o,i).then(t).catch(r):r(q.InvalidDefinition(`Invalid interceptor type. (${s})`))}).catch(r)}),o=function(e,i){let r="view",n=e,o=i;return function(e){const i=t=>{l.host().raiseError(t)},c=t=>{s.app.redirect(t)},p=()=>{let s=n;d(o).then(s=>{let n=$(s,t);if(n)try{J(new n,t=>{t[r](e).then(()=>{e.handled=!0,e.$redirect&&c(e.$redirect)}).catch(i)})}catch(t){i(t)}else i(q.InvalidDefinition(`Invalid route handler. (${o})`))}).catch(i)};e.$stop=!1,e.$redirect="";let u=Gt.client.routing[`${s.name}-interceptors`]||[];a(u,e).then(()=>{e.$stop?(e.handled=!0,e.$redirect&&c(e.$redirect)):p()}).catch(t=>{e.$stop?(e.handled=!0,e.$redirect&&c(e.$redirect)):i(t)})}};for(let t of i)t.mount===s.name&&s.app(t.path,o(t.path,t.handler));s.app("*",t=>{let e=Gt.client.url.routes["404"];if(e){t.handled=!0;let i=l.host().route(e,{notfound:t.pathname});s.app.redirect(i)}else(!0).history.back()})})})})(),await(async()=>{const{Bootware:t}=D("flair.app");c("sealed"),c("ns","flair.boot"),i("DIContainer",t,function(){c("override"),this.construct=(t=>{t("DI Container")}),c("override"),this.boot=(async t=>{t();let e=Gt.di.container;for(let t in e)e.hasOwnProperty(t)&&h.register(t,e[t])})})})(),await(async()=>{const{Bootware:t}=D("flair.app");c("sealed"),c("ns","flair.boot"),i("Middlewares",t,function(){c("override"),this.construct=(t=>{t("Express Middlewares",!0)}),c("override"),this.boot=(async(t,e)=>{t();let i=Gt.server.routing[`${e.name}-middlewares`];if(i&&i.length>0){let t=null,r=null;for(let s of i)if(s.name)try{t=require(s.name),r=s.func?t[s.func]:t;let i=[],n=null;s.args=s.args||[];for(let t of s.args){if("string"==typeof t&&t.startsWith("return "))n=new Function(t)();else if("object"==typeof t){for(let e in t)t.hasOwnProperty(e)&&"string"==typeof(n=t[e])&&n.startsWith("return ")&&(n=new Function(t)(),t[e]=n);n=t}else n=t;i.push(n)}e.app.use(r(...i))}catch(t){throw q.OperationFailed(`Middleware ${s.module} load failed.`,t,this.boot)}}})})})(),await(async()=>{const{Bootware:t}=D("flair.app");c("sealed"),c("ns","flair.boot"),i("NodeEnv",t,function(){c("override"),this.construct=(t=>{t("Node Server Environment")}),c("override"),this.boot=(async t=>{if(t(),Gt.server.envVars.vars.length>0){const t=await d("node-env-file | x");if(t)for(let e of Gt.server.envVars.vars)t(l.resolvePath(e),Gt.server.envVars.options)}})})})(),await(async()=>{const{Bootware:t}=D("flair.app");c("sealed"),c("ns","flair.boot"),i("ResHeaders",t,function(){c("override"),this.construct=(t=>{t("Server Response Headers",!0)}),c("override"),this.boot=(async(t,e)=>{t();let i=Gt[`${e.name}-resHeaders`];i&&i.length>0&&e.app.use((t,e,r)=>{for(let t of i)e.setHeader(t.name,t.value);r()})})})})(),await(async()=>{const{Bootware:t}=D("flair.app");c("sealed"),c("ns","flair.boot"),i("ServerRouter",t,function(){const{RestHandler:t,RestInterceptor:e}=D("flair.api");let i=null;c("override"),this.construct=(t=>{t("Server Router",!0)}),c("override"),this.boot=(async(r,s)=>{r(),i||(i=l.context.current().allRoutes(!0)).sort((t,e)=>t.index<e.index?-1:t.index>e.index?1:0);let n=!1;const a=(t,e,i)=>new Promise((r,s)=>{try{let n;(new t).run(e,i).then(()=>{e.$stop?s():r()}).catch(s)}catch(t){s(t)}}),o=(t,i,r)=>et(t,(t,s,n)=>{d(n).then(o=>{let l=$(o,e);l?a(l,i,r).then(t).catch(s):s(q.InvalidDefinition(`Invalid interceptor type. (${n})`))}).catch(s)});for(let e of i)e.mount===s.name&&e.verbs.forEach(i=>{s.app[i](e.path,(r,a,l)=>{const c=t=>{l(t)},p=t=>{t||l()},u=()=>{d(e.handler).then(s=>{let o=$(s,t);if(o)try{J(new o,t=>{(n=t[i](r,a))&&"function"==typeof n.then?n.then(t=>{p(t)}).catch(c):p(n)})}catch(t){c(t)}else c(q.InvalidDefinition(`Invalid route handler. ${e.handler}`))}).catch(c)};r.$stop=!1;let h=Gt.server.routing[`${s.name}-interceptors`]||[];o(h,r,a).then(()=>{r.$stop?a.end():u()}).catch(t=>{r.stop?a.end():c(t)})})});s.app.use((t,e,i)=>{var r=new Error("Not Found");r.status=404,i(r)}),_.isProd,s.app.use((t,e,i)=>{i.status(t.status||500),e.xhr?i.status(500).send({error:t.toString()}):i.render("error",{message:t.message,error:t}),i.end()})})})})(),await(async()=>{c("ns","flair.ui"),i("ViewInterceptor",function(){c("virtual"),c("async"),this.run=K})})(),await(async()=>{c("singleton"),c("ns","flair.ui"),i("ViewState",function(){c("state"),c("private"),this.store={},this.get=((t,e)=>(t=t||"",e=e||"",this.store[t+"/"+e]||null)),this.set=((t,e,i)=>{t=t||"",e=e||"","boolean"==typeof i||i?this.store[t+"/"+e]=i:delete this.store[t+"/"+e]}),this.clear=(()=>{this.store=null})})})(),await(async()=>{c("ns","flair.ui"),i("ViewTransition",function(){c("virtual"),c("async"),this.enter=K,c("virtual"),c("async"),this.leave=K})})(),l.context.current().currentAssemblyBeingLoaded(""),l.registerAdo('{"name":"flair.app","file":"./flair.app{.min}.js","mainAssembly":"flair","desc":"True Object Oriented JavaScript","title":"Flair.js","version":"0.7.85","lupdate":"Mon, 20 May 2019 02:01:32 GMT","builder":{"name":"flairBuild","version":"1","format":"fasm","formatVersion":"1","contains":["init","func","type","vars","reso","asst","rout","sreg"]},"copyright":"(c) 2017-2019 Vikas Burman","license":"MIT","types":["flair.app.Bootware","flair.app.Handler","flair.app.App","flair.app.Host","flair.ui.ViewHandler","flair.ui.View","flair.api.RestHandler","flair.api.RestInterceptor","flair.app.BootEngine","flair.app.ClientHost","flair.app.ServerHost","flair.boot.ClientRouter","flair.boot.DIContainer","flair.boot.Middlewares","flair.boot.NodeEnv","flair.boot.ResHeaders","flair.boot.ServerRouter","flair.ui.ViewInterceptor","flair.ui.ViewState","flair.ui.ViewTransition"],"resources":[],"assets":[],"routes":[]}'),Object.freeze({name:"flair.app",settings:Gt,config:Xt})});