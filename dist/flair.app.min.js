/**
 * @preserve
 * Flair.js
 * True Object Oriented JavaScript
 * 
 * Assembly: flair.app
 *     File: ./flair.app.js
 *  Version: 0.16.98
 *  Thu, 14 Mar 2019 17:47:35 GMT
 * 
 * (c) 2017-2019 Vikas Burman
 * Licensed under MIT
 */
(()=>{"use strict";const e=void 0!==!0?require("flair"):"undefined"!=typeof WorkerGlobalScope?WorkerGlobalScope.flair:(!0).flair,{Class:t,Struct:i,Enum:r,Interface:o,Mixin:a}=e,{Aspects:s}=e,{AppDomain:n}=e,l=e.AppDomain.context.current().name,{$$:c,attr:p}=e,{bring:f,Container:d,include:u}=e,{Port:b}=e,{on:y,post:v,telemetry:m}=e,{Reflector:$}=e,{Serializer:w}=e,{Tasks:A}=e,{TaskInfo:h}=e.Tasks,{as:g,is:B,isComplies:I,isDerivedFrom:S,isImplements:D,isInstanceOf:T,isMixed:x}=e,{getAssembly:j,getAttr:O,getContext:H,getResource:k,getType:E,ns:L,getTypeOf:z,typeOf:M}=e,{dispose:P,using:C}=e,{args:F,Exception:G,noop:R,nip:V,nim:J,nie:U,event:W}=e,{env:q}=e.options,{forEachAsync:N,replaceAll:K,splitAndTrim:Q,findIndexByProp:X,findItemByProp:Y,which:Z,isArrowFunc:_,isASyncFunc:ee,sieve:te,b64EncodeUnicode:ie,b64DecodeUnicode:re}=e.utils,{$static:oe,$abstract:ae,$virtual:se,$override:ne,$sealed:le,$private:ce,$protected:pe,$readonly:fe,$async:de}=c,{$enumerate:ue,$dispose:be,$post:ye,$on:ve,$timer:me,$type:$e,$args:we,$inject:Ae,$resource:he,$asset:ge,$singleton:Be,$serialize:Ie,$deprecate:Se,$session:De,$state:Te,$conditional:xe,$noserialize:je,$ns:Oe}=c;let He=JSON.parse('{"preambles":[],"bootwares":[],"server":"flair.server.Server","app":"flair.server.App | flair.client.App","entryPoint":"./main.js | ./index.js"}'),ke=e.Port("settingsReader");if("function"==typeof ke){let e=ke("flair.app");e&&(He=Object.assign(He,e))}He=Object.freeze(He),e.AppDomain.context.current().currentAssemblyBeingLoaded("./flair.app{.min}.js"),(async()=>{const{IDisposable:e,ILifecycleHandle:i,LifecycleHandler:r}=L(),{Bootware:o}=L("flair.boot");c("ns","flair.boot"),t("App",o,[e,i,r],function(){c("virtual"),this.construct=R,c("virtual"),this.dispose=R})})(),(async()=>{const{IBootware:e}=L("flair.boot");c("static"),c("ns","flair.boot"),t("BootEngine",function(){this.start=(async()=>{await n.loadScripts(...He.preambles);let t=[],i=null;for(let r of He.bootwares)if(r=Z(r)){let o=g(await u(r),e);if(!o)throw G.InvalidDefinition(r,this.start);i=new o,t.push(i),await i.boot()}if(q.isServer){let t=g(await u(He.server),e);if(!t)throw G.InvalidDefinition(He.server,this.start);await t.boot(),n.Server(t)}let r=g(await u(Z(He.app)),e);if(!r)throw G.InvalidDefinition(He.app,this.start);await r.boot(),n.App(r),q.isServer&&await n.Server().start(),await n.App().start();for(let e of t)await e.ready();await n.Server().ready(),await n.App.ready()})})})(),(async()=>{c("ns","flair.boot"),a("BootHandler",function(){c("virtual"),c("async"),this.boot=R,c("virtual"),c("async"),this.ready=R})})(),(async()=>{const{IBootware:e}=L("flair.boot"),{BootHandler:i}=L("flair.boot");c("abstract"),c("ns","flair.boot"),t("Bootware",[e,i],function(){})})(),(async()=>{c("ns","flair.boot"),o("IBootware",function(){this.boot=J,this.ready=J})})(),(async()=>{const{IDisposable:e,ILifecycleHandle:i,LifecycleHandler:r}=L(),{Bootware:o}=L("flair.boot");c("ns","flair.boot"),t("Server",o,[e,i,r],function(){c("virtual"),this.construct=R,c("virtual"),this.dispose=R})})(),e.AppDomain.context.current().currentAssemblyBeingLoaded(""),e.AppDomain.registerAdo('{"name":"flair.app","file":"./flair.app{.min}.js","desc":"True Object Oriented JavaScript","version":"0.16.98","lupdate":"Thu, 14 Mar 2019 17:47:35 GMT","builder":{"name":"<<name>>","version":"<<version>>","format":"fasm","formatVersion":"1","contains":["initializer","types","enclosureVars","enclosedTypes","resources","assets","selfreg"]},"copyright":"(c) 2017-2019 Vikas Burman","license":"MIT","types":["flair.boot.App","flair.boot.BootEngine","flair.boot.BootHandler","flair.boot.Bootware","flair.boot.IBootware","flair.boot.Server"],"resources":[],"assets":[]}')})();
//# sourceMappingURL=./flair.app.min.js.map