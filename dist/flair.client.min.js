/**
 * @preserve
 * Flair.js
 * True Object Oriented JavaScript
 * 
 * Assembly: flair.client
 *     File: ./flair.client.js
 *  Version: 0.50.32
 *  Sat, 04 May 2019 18:35:15 GMT
 * 
 * (c) 2017-2019 Vikas Burman
 * Licensed under MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof!0&&(!0).amd?(!0)(e):t.page=e()}(this,function(){"use strict";var t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},e=w,i=o,n=h,r=c,a=v,s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t){for(var e=[],i=0,n=0,r="",a;null!=(a=s.exec(t));){var o=a[0],h=a[1],c=a.index;if(r+=t.slice(n,c),n=c+o.length,h)r+=h[1];else{r&&(e.push(r),r="");var l=a[2],u=a[3],d=a[4],f=a[5],m=a[6],y=a[7],v="+"===m||"*"===m,w="?"===m||"*"===m,g=l||"/",b=d||f||(y?".*":"[^"+g+"]+?");e.push({name:u||i++,prefix:l||"",delimiter:g,optional:w,repeat:v,pattern:p(b)})}}return n<t.length&&(r+=t.substr(n)),r&&e.push(r),e}function h(t){return c(o(t))}function c(e){for(var i=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(i[n]=new RegExp("^"+e[n].pattern+"$"));return function(n){for(var r="",a=n||{},s=0;s<e.length;s++){var o=e[s];if("string"!=typeof o){var h=a[o.name],c;if(null==h){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to be defined')}if(t(h)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but received "'+h+'"');if(0===h.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var l=0;l<h.length;l++){if(c=encodeURIComponent(h[l]),!i[s].test(c))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but received "'+c+'"');r+=(0===l?o.prefix:o.delimiter)+c}}else{if(c=encodeURIComponent(h),!i[s].test(c))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but received "'+c+'"');r+=o.prefix+c}}else r+=o}return r}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function p(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function d(t){return t.sensitive?"":"i"}function f(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return u(t,e)}function m(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(w(t[r],e,i).source);var a;return u(new RegExp("(?:"+n.join("|")+")",d(i)),e)}function y(t,e,i){for(var n=o(t),r=v(n,i),a=0;a<n.length;a++)"string"!=typeof n[a]&&e.push(n[a]);return u(r,e)}function v(t,e){for(var i=(e=e||{}).strict,n=!1!==e.end,r="",a=t[t.length-1],s="string"==typeof a&&/\/$/.test(a),o=0;o<t.length;o++){var h=t[o];if("string"==typeof h)r+=l(h);else{var c=l(h.prefix),p=h.pattern;h.repeat&&(p+="(?:"+c+p+")*"),r+=p=h.optional?c?"(?:"+c+"("+p+"))?":"("+p+")?":c+"("+p+")"}}return i||(r=(s?r.slice(0,-2):r)+"(?:\\/(?=$))?"),r+=n?"$":i&&s?"":"(?=\\/|$)",new RegExp("^"+r,d(e))}function w(e,i,n){return t(i=i||[])?n||(n={}):(n=i,i=[]),e instanceof RegExp?f(e,i,n):t(e)?m(e,i,n):y(e,i,n)}e.parse=i,e.compile=n,e.tokensToFunction=r,e.tokensToRegExp=a;var g="undefined"!=typeof document,b=void 0!==!0,$="undefined"!=typeof history,x="undefined"!=typeof process,_=g&&document.ontouchstart?"touchstart":"click",A=b&&!(!(!0).history.location&&!(!0).location),O;function V(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function C(){var t=new V;function e(){return E.apply(t,arguments)}return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=C,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(e){t.current=e}}),e.Context=I,e.Route=R,e}function E(t,e){if("function"==typeof t)return E.call(this,"*",t);if("function"==typeof e)for(var i=new R(t,null,this),n=1;n<arguments.length;++n)this.callbacks.push(i.middleware(arguments[n]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function F(t){if(!t.handled){var e,i=this,n=this._window;(e=this._hashbang?A&&this._getBase()+n.location.hash.replace("#!",""):A&&n.location.pathname+n.location.search)!==t.canonicalPath&&(this.stop(),t.handled=!1,A&&(n.location.href=t.canonicalPath))}}function T(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function I(t,e,i){var n=this.page=i||E,r=n._window,a=n._hashbang,s=n._getBase();"/"===t[0]&&0!==t.indexOf(s)&&(t=s+(a?"#!":"")+t);var o=t.indexOf("?");this.canonicalPath=t;var h=new RegExp("^"+T(s));if(this.path=t.replace(h,"")||"/",a&&(this.path=this.path.replace("#!","")||"/"),this.title=g&&r.document.title,this.state=e||{},this.state.path=t,this.querystring=~o?n._decodeURLEncodedURIComponent(t.slice(o+1)):"",this.pathname=n._decodeURLEncodedURIComponent(~o?t.slice(0,o):t),this.params={},this.hash="",!a){if(!~this.path.indexOf("#"))return;var c=this.path.split("#");this.path=this.pathname=c[0],this.hash=n._decodeURLEncodedURIComponent(c[1])||"",this.querystring=this.querystring.split("#")[0]}}function R(t,i,n){var r=this.page=n||k,a=i||{};a.strict=a.strict||n._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=e(this.path,this.keys=[],a)}V.prototype.configure=function(t){var e=t||{};this._window=e.window||b&&!0,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&b,this._click=!1!==e.click&&g,this._hashbang=!!e.hashbang;var i=this._window;this._popstate?i.addEventListener("popstate",this._onpopstate,!1):b&&i.removeEventListener("popstate",this._onpopstate,!1),this._click?i.document.addEventListener(_,this.clickHandler,!1):g&&i.document.removeEventListener(_,this.clickHandler,!1),this._hashbang&&b&&!$?i.addEventListener("hashchange",this._onpopstate,!1):b&&i.removeEventListener("hashchange",this._onpopstate,!1)},V.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},V.prototype._getBase=function(){var t=this._base;if(t)return t;var e=b&&this._window&&this._window.location;return b&&this._hashbang&&e&&"file:"===e.protocol&&(t=e.pathname),t},V.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},V.prototype.start=function(t){var e=t||{};if(this.configure(e),!1!==e.dispatch){var i;if(this._running=!0,A){var n,r=this._window.location;i=this._hashbang&&~r.hash.indexOf("#!")?r.hash.substr(2)+r.search:this._hashbang?r.search+r.hash:r.pathname+r.search+r.hash}this.replace(i,null,!0,e.dispatch)}},V.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var t=this._window;this._click&&t.document.removeEventListener(_,this.clickHandler,!1),b&&t.removeEventListener("popstate",this._onpopstate,!1),b&&t.removeEventListener("hashchange",this._onpopstate,!1)}},V.prototype.show=function(t,e,i,n){var r=new I(t,e,this),a=this.prevContext;return this.prevContext=r,this.current=r.path,!1!==i&&this.dispatch(r,a),!1!==r.handled&&!1!==n&&r.pushState(),r},V.prototype.back=function(t,e){var i=this;if(this.len>0){var n=this._window;$&&n.history.back(),this.len--}else t?setTimeout(function(){i.show(t,e)}):setTimeout(function(){i.show(i._getBase(),e)})},V.prototype.redirect=function(t,e){var i=this;"string"==typeof t&&"string"==typeof e&&E.call(this,t,function(t){setTimeout(function(){i.replace(e)},0)}),"string"==typeof t&&void 0===e&&setTimeout(function(){i.replace(t)},0)},V.prototype.replace=function(t,e,i,n){var r=new I(t,e,this),a=this.prevContext;return this.prevContext=r,this.current=r.path,r.init=i,r.save(),!1!==n&&this.dispatch(r,a),r},V.prototype.dispatch=function(t,e){var i=0,n=0,r=this;function a(){var t=r.exits[n++];if(!t)return s();t(e,a)}function s(){var e=r.callbacks[i++];if(t.path===r.current)return e?void e(t,s):F.call(r,t);t.handled=!1}e?a():s()},V.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var i=new R(t,null,this),n=1;n<arguments.length;++n)this.exits.push(i.middleware(arguments[n]))},V.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e=t.target,i=t.path||(t.composedPath?t.composedPath():null);if(i)for(var n=0;n<i.length;n++)if(i[n].nodeName&&"A"===i[n].nodeName.toUpperCase()&&i[n].href){e=i[n];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var r="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var a=e.getAttribute("href");if((this._hashbang||!this._samePath(e)||!e.hash&&"#"!==a)&&!(a&&a.indexOf("mailto:")>-1)&&(r?!e.target.baseVal:!e.target)&&(r||this.sameOrigin(e.href))){var s=r?e.href.baseVal:e.pathname+e.search+(e.hash||"");s="/"!==s[0]?"/"+s:s,x&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var o=s,h=this._getBase();0===s.indexOf(h)&&(s=s.substr(h.length)),this._hashbang&&(s=s.replace("#!","")),(!h||o!==s||A&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(o))}}}}},V.prototype._onpopstate=(O=!1,b?(g&&"complete"===document.readyState?O=!0:(!0).addEventListener("load",function(){setTimeout(function(){O=!0},0)}),function t(e){if(O){var i=this;if(e.state){var n=e.state.path;this.replace(n,e.state)}else if(A){var r=this._window.location;this.show(r.pathname+r.search+r.hash,void 0,void 0,!1)}}}):function(){}),V.prototype._which=function(t){return null==(t=t||b&&this._window.event).which?t.button:t.which},V.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&A)return new URL(t,e.location.toString());if(g){var i=e.document.createElement("a");return i.href=t,i}},V.prototype.sameOrigin=function(t){if(!t||!A)return!1;var e=this._toURL(t),i,n=this._window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&n.port===e.port},V.prototype._samePath=function(t){if(!A)return!1;var e,i=this._window.location;return t.pathname===i.pathname&&t.search===i.search},V.prototype._decodeURLEncodedURIComponent=function(t){return"string"!=typeof t?t:this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},I.prototype.pushState=function(){var t=this.page,e=t._window,i=t._hashbang;t.len++,$&&e.history.pushState(this.state,this.title,i&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},I.prototype.save=function(){var t=this.page;$&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},R.prototype.middleware=function(t){var e=this;return function(i,n){if(e.match(i.path,i.params))return t(i,n);n()}},R.prototype.match=function(t,e){var i=this.keys,n=t.indexOf("?"),r=~n?t.slice(0,n):t,a=this.regexp.exec(decodeURIComponent(r));if(!a)return!1;for(var s=1,o=a.length;s<o;++s){var h=i[s-1],c=this.page._decodeURLEncodedURIComponent(a[s]);void 0===c&&hasOwnProperty.call(e,h.name)||(e[h.name]=c)}return!0};var k=C(),L=k,S=k;return L.default=S,L}),(()=>{"use strict";const t=void 0!==!0?require("flairjs"):(!0).flair,{Class:e,Struct:i,Enum:n,Interface:r,Mixin:a,Aspects:s,AppDomain:o,$$:h,attr:c,bring:l,Container:p,include:u,Port:d,on:f,post:m,telemetry:y,Reflector:v,Serializer:w,Tasks:g,as:b,is:$,isComplies:x,isDerivedFrom:_,isAbstract:A,isSealed:O,isStatic:V,isSingleton:C,isDeprecated:E,isImplements:F,isInstanceOf:T,isMixed:I,getAssembly:R,getAttr:k,getContext:L,getResource:S,getRoute:j,getType:P,ns:D,getTypeOf:U,getTypeName:M,typeOf:H,dispose:B,using:z,Args:N,Exception:W,noop:q,nip:G,nim:K,nie:J,event:Z}=t,{TaskInfo:Q}=t.Tasks,{env:X}=t.options,Y=X.isServer||X.isWorker?null:(!0).document,{forEachAsync:tt,replaceAll:et,splitAndTrim:it,findIndexByProp:nt,findItemByProp:rt,which:at,guid:st,isArrowFunc:ot,isASyncFunc:ht,sieve:ct,b64EncodeUnicode:lt,b64DecodeUnicode:pt}=t.utils,{$$static:ut,$$abstract:dt,$$virtual:ft,$$override:mt,$$sealed:yt,$$private:vt,$$privateSet:wt,$$protected:gt,$$protectedSet:bt,$$readonly:$t,$$async:xt,$$overload:_t,$$enumerate:At,$$dispose:Ot,$$post:Vt,$$on:Ct,$$timer:Et,$$type:Ft,$$args:Tt,$$inject:It,$$resource:Rt,$$asset:kt,$$singleton:Lt,$$serialize:St,$$deprecate:jt,$$session:Pt,$$state:Dt,$$conditional:Ut,$$noserialize:Mt,$$ns:Ht}=h,Bt=o.context.current().name;let zt=X.isServer?__filename:(!0).document.currentScript.src.replace((!0).document.location.href,"./"),Nt=zt.substr(0,zt.lastIndexOf("/")+1);o.loadPathOf("flair.client",Nt);const Wt=t=>{o.onError(t)};let qt=JSON.parse('{"el":"main","title":"","viewTransition":"","components":[],"transitions":[],"filters":[],"mixins":[],"directives":[],"plugins":[],"pluginOptions":{},"url":{"404":"/404","home":"/"},"mounts":{"main":"/"},"main-options":[],"main-interceptors":[]}'),Gt=t.Port("settingsReader");if("function"==typeof Gt){let t=Gt("flair.client");t&&(qt=Object.assign(qt,t))}qt=Object.freeze(qt);let Kt={};Kt=Object.freeze(Kt),o.context.current().currentAssemblyBeingLoaded("./flair.client{.min}.js");try{(async()=>{try{h("ns","flair.ui"),e("ViewTransition",function(){h("virtual"),h("async"),this.enter=q,h("virtual"),h("async"),this.leave=q})}catch(t){Wt(t)}})(),(async()=>{try{const t=await u("vue/vue{.min}.js"),{ViewState:e}=D("flair.ui"),{VueFilter:i,VueMixin:n,VueDirective:r}=D("flair.ui.vue");h("ns","flair.ui.vue"),a("VueComponentMembers",function(){h("private"),this.define=(async()=>{let a=new e,s={},o=d("clientFile");if(this.style&&this.style.endsWith(".css")&&(this.style=await o(this.style)),this.html&&this.html.endsWith(".html")&&(this.html=await o(this.html)),this.template?s.template=this.template:this.style&&this.html?s.template="<div><style scoped>"+this.style.trim()+"</style><div>"+this.html.trim()+"</div></div>":this.html&&(s.template=this.html.trim()),this.render&&"function"==typeof this.render&&(s.render=this.render),"boolean"==typeof this.functional&&(s.functional=this.functional),this.computed)for(let t in this.computed)this.computed.hasOwnProperty(t)&&(s.computed=s.computed||{},s.computed[t]=this.computed[t]);if(this.state&&Array.isArray(this.state))for(let t of this.state){if(s.computed[t.name])throw W.InvalidDefinition(`Computed (state) property already defined. (${t.name})`);s.computed=s.computed||{},s.computed[t.name]={get:function(){return a.get(t.path,t.name)||t.value},set:function(e){a.set(t.path,t.name,e)}}}if(this.methods)for(let t in this.methods)this.methods.hasOwnProperty(t)&&(s.methods=s.methods||{},s.methods[t]=this.methods[t]);if(this.watch)for(let t in this.watch)this.watch.hasOwnProperty(t)&&(s.watch=s.watch||{},s.watch[t]=this.watch[t]);if(this.lifecycle)for(let t in this.lifecycle)this.lifecycle.hasOwnProperty(t)&&(s[t]=this.lifecycle[t]);if(this.components&&Array.isArray(this.components)){let e=null,i=null;const{VueComponent:n}=D("flair.ui.vue");for(let r in this.components){if(!r.name)throw W.OperationFailed(`Component name cannot be empty. (${r.type})`);if(!r.type)throw W.OperationFailed(`Component type cannot be empty. (${r.name})`);if(!(e=b(await u(r.name),n)))throw W.InvalidArgument(r.type);try{if(i=new e,t.options.components[r.name])throw W.Duplicate(`Component already registered. (${r.name})`);if(i.components&&i.components[r.name])throw W.Duplicate(`Component already registered. (${r.name})`);i.components=i.components||{},i.components[r.name]=await i.factory()}catch(t){throw W.OperationFailed(`Component registration failed. (${r.type})`,t)}}}if(this.mixins&&Array.isArray(this.mixins)){let t=null,e=null;for(let i in this.mixins){if(!i.name)throw W.OperationFailed(`Mixin name cannot be empty. (${i.type})`);if(!i.type)throw W.OperationFailed(`Mixin type cannot be empty. (${i.name})`);if(!(t=b(await u(i.type),n)))throw W.InvalidArgument(i.type);try{if(e=new t,s.mixins&&s.mixins[i.name])throw W.Duplicate(`Mixin already registered. (${i.name})`);s.mixins=s.mixins||{},s.mixins[i.name]=await e.factory()}catch(t){throw W.OperationFailed(`Mixin registration failed. (${i.type})`,t)}}}if(this.directives&&Array.isArray(this.directives)){let t=null,e=null;for(let i in this.directives){if(!i.name)throw W.OperationFailed(`Directive name cannot be empty. (${i.type})`);if(!i.type)throw W.OperationFailed(`Directive type cannot be empty. (${i.name})`);if(!(t=b(await u(i.type),r)))throw W.InvalidArgument(i.type);try{if(e=new t,s.directives&&s.directives[i.name])throw W.Duplicate(`Directive already registered. (${i.name})`);s.directives=s.directives||{},s.directives[i.name]=await e.factory()}catch(t){throw W.OperationFailed(`Directive registration failed. (${i.type})`,t)}}}if(this.filters&&Array.isArray(this.filters)){let t=null,e=null;for(let n in this.filters){if(!n.name)throw W.OperationFailed(`Filter name cannot be empty. (${n.type})`);if(!n.type)throw W.OperationFailed(`Filter type cannot be empty. (${n.name})`);if(!(t=b(await u(n.type),i)))throw W.InvalidArgument(n.type);try{if(e=new t,s.filters&&s.filters[n.name])throw W.Duplicate(`Filter already registered. (${n.name})`);s.filters=s.filters||{},s.filters[n.name]=await e.factory()}catch(t){throw W.OperationFailed(`Filter registration failed. (${n.type})`,t)}}}return this.provide&&Array.isArray(this.provide)&&(s.provide=this.provide),this.inject&&Array.isArray(this.inject)&&(s.inject=this.inject),s}),h("protected"),this.style="",h("protected"),this.html="",h("protected"),this.template=null,h("protected"),this.render=null,h("protected"),this.functional=!1,h("protected"),this.computed=null,h("protected"),this.state=null,h("protected"),this.methods=null,h("protected"),this.watch=null,h("protected"),this.lifecycle=null,h("protected"),this.components=null,h("protected"),this.mixins=null,h("protected"),this.directives=null,h("protected"),this.filters=null,h("protected"),this.provide=null,h("protected"),this.inject=null})}catch(t){Wt(t)}})(),(async()=>{try{const{Host:t}=D("flair.app");h("sealed"),h("ns","flair.app"),e("ClientHost",t,function(){let t={},e=(!0).page,i=null;h("override"),this.construct=(t=>{t("Page","1.x")}),this.app=(()=>this.mounts["main"]),this.mounts={get:()=>t,set:q},h("override"),this.boot=(async i=>{i();let n=null,r="",a=null;const s=t=>{let e={},i=qt[`${t}-options`];if(i&&i.length>0)for(let t of i)e[t.name]=t.value;return e.click=!1,e.popstate=!1,e.dispatch=!1,e.hashbang=!1,e.decodeURLComponents=!0,e};n=s("main");let o=e(n);o.strict(n.strict),o.base("/");for(let i of Object.keys(qt.mounts))"main"===i?(r="/",a=o):(n=s(i),r=qt.mounts[i],(a=e.create(n)).strict(n.strict),a.base(r)),t[i]=Object.freeze({name:i,root:r,app:a});t=Object.freeze(t)}),h("override"),this.start=(async t=>{t(),i=(()=>{let t=(!0).location.hash;"#!/"===t.substr(0,3)&&(t=t.substr(3)),"#!"===t.substr(0,2)&&(t=t.substr(2)),"#/"===t.substr(0,2)&&(t=t.substr(2)),"#"===t.substr(0,1)&&(t=t.substr(1));let e=null,i="";for(let n of this.mounts)if(t.startsWith(n.root)){e=n.app,t=t.substr(n.root.length),i=n;break}e||(i="main",e=this.mounts[i]),"/"!==t.substr(0,1)&&(t="/"+t),setTimeout(()=>{try{e(t)}catch(t){this.error(t)}},0)})}),h("override"),this.ready=(async t=>{t(),(!0).addEventListener("hashchange",i),this.app.redirect(qt.url.home),console.log(`${o.app().info.name}, v${o.app().info.version}`)}),h("override"),this.stop=(async t=>{t(),(!0).removeEventListener("hashchange",i)}),h("override"),this.dispose=(e=>{e(),t=null})})}catch(t){Wt(t)}})(),(async()=>{try{const{Bootware:t}=D("flair.app"),{ViewHandler:i,ViewInterceptor:n}=D("flair.ui");h("sealed"),h("ns","flair.boot"),e("ClientRouter",t,function(){let t=null;h("override"),this.construct=(t=>{t("Client Router",!0)}),h("override"),this.boot=(async e=>{t||(t=o.context.current().allRoutes(!0)).sort((t,e)=>t.index<e.index?-1:t.index>e.index?1:0);const r=(t,e)=>new Promise((i,n)=>{try{let r;(new t).run(e).then(()=>{e.$stop?n():i()}).catch(n)}catch(t){n(t)}}),a=(t,e)=>tt(t,(t,i,a)=>{u(a).then(s=>{let o=b(s,n);o?r(o,e).then(t).catch(i):i(W.InvalidDefinition(`Invalid interceptor type. (${a})`))}).catch(i)});let s="view";for(let n of t)n.mount===e.name&&e.app(n.path,t=>{const r=t=>{o.host().raiseError(t)},h=t=>{e.app.redirect(t)},c=()=>{u(n.handler).then(e=>{let a=b(e,i);if(a)try{z(new a,e=>{e[s](t).then(()=>{t.handled=!0,t.$redirect&&h(t.$redirect)}).catch(r)})}catch(t){r(t)}else r(W.InvalidDefinition(`Invalid route handler. (${n.handler})`))}).catch(r)};t.$stop=!1,t.$redirect="";let l=qt[`${e.name}-interceptors`]||[];a(l,t).then(()=>{t.$stop?(t.handled=!0,t.$redirect&&h(t.$redirect)):c()}).catch(e=>{t.$stop?(t.handled=!0,t.$redirect&&h(t.$redirect)):r(e)})});e.app("*",t=>{let i=qt.url["404"];i?(t.handled=!0,e.app.redirect(i)):(!0).history.back()})})})}catch(t){Wt(t)}})(),(async()=>{try{const{Handler:t}=D("flair.app"),{ViewTransition:i}=D("flair.ui");h("ns","flair.ui"),e("ViewHandler",t,function(){let t="";h("override"),this.construct=((e,i,n,r)=>{e(),t=i||"main",this.viewTransition=r,this.title=this.title+(n?" - "+n:"")}),h("privateSet"),this.viewTransition="",h("protectedSet"),this.name="",h("protectedSet"),this.title="",h("protectedSet"),this.meta=null,this.view=(async e=>{if(this.name=this.name||this.$self.id+"_"+st(),this.viewTransition){let t=b(await u(this.viewTransition),i);this.viewTransition=t?new t:""}let n=Y.createElement("div"),r=Y.getElementById(t);n.id=this.name,n.setAttribute("hidden",""),r.appendChild(n),this.load(e,n),await this.swap()}),h("protected"),h("virtual"),h("async"),this.loadView=q,h("private"),this.swap=(async()=>{let e=Y.getElementById(this.name);if(this.$static.currentView){let i=Y.getElementById(this.$static.currentView),n;for(let t of this.meta)Y.head.removeChild(Y.querySelector('meta[name="'+t+'"]'));this.viewTransition?(await this.viewTransition.leave(i,e),await this.viewTransition.enter(e,i)):(i.hidden=!0,e.hidden=!1),Y.getElementById(t).removeChild(i)}for(let t of this.meta){var i=document.createElement("meta");for(let e in t)i[e]=t[e];Y.head.appendChild(i)}this.$static.currentView||(e.hidden=!1),Y.title=this.title,this.$static.currentView=this.name,this.$static.currentViewMeta=this.meta}),h("static"),this.currentView="",h("static"),this.currentViewMeta=[]})}catch(t){Wt(t)}})(),(async()=>{try{h("ns","flair.ui"),e("ViewInterceptor",function(){h("virtual"),h("async"),this.run=q})}catch(t){Wt(t)}})(),(async()=>{try{h("singleton"),h("ns","flair.ui"),e("ViewState",function(){h("state"),h("private"),this.store={},this.get=((t,e)=>(t=t||"",e=e||"",this.store[t+"/"+e]||null)),this.set=((t,e,i)=>{t=t||"",e=e||"","boolean"==typeof i||i?this.store[t+"/"+e]=i:delete this.store[t+"/"+e]}),this.clear=(()=>{this.store=null})})}catch(t){Wt(t)}})(),(async()=>{try{const{VueComponentMembers:t}=D("flair.ui.vue");h("ns","flair.ui.vue"),e("VueComponent",[t],function(){this.factory=(async()=>{let t=this.define();return this.props&&Array.isArray(this.props)&&(t.props=this.props),this.data&&"function"==typeof this.data&&(t.data=this.data),this.name&&(t.name=this.name),this.model&&(t.model=this.model),"boolean"==typeof this.inheritAttrs&&(t.inheritAttrs=this.inheritAttrs),t}),h("protected"),this.props=null,h("protected"),this.data=null,h("protected"),this.model=null,h("protected"),this.inheritAttrs=null})}catch(t){Wt(t)}})(),(async()=>{try{h("ns","flair.ui.vue"),e("VueDirective",function(){h("virtual"),h("async"),this.factory=q})}catch(t){Wt(t)}})(),(async()=>{try{h("ns","flair.ui.vue"),e("VueFilter",function(){h("virtual"),h("async"),this.factory=q})}catch(t){Wt(t)}})(),(async()=>{try{h("ns","flair.ui.vue"),e("VueLayout",function(){h("protected"),this.html="",h("protected"),this.style="",h("protected"),this.viewArea="view",h("protectedSet"),this.areas=[],this.merge=(async t=>{let e=d("clientFile");this.style&&this.style.endsWith(".css")&&(this.style=await e(this.style)),this.html&&this.html.endsWith(".html")&&(this.html=await e(this.html));let i=Y.createElement("div");if(this.style){let t=Y.createElement("style");t.innerHTML=this.style.trim(),t.setAttribute("scoped",""),i.append(t)}if(this.html){let t=Y.createElement("div");t.innerHTML=this.html.trim(),i.append(t)}this.viewArea=this.viewArea||"view";let n=i.content.getElementById(this.viewArea);n&&(n.innerHTML=t);let r=null;if(this.layout&&this.layout.areas&&Array.isArray(this.layout.areas))for(let t of this.layout.areas)if(r=i.content.getElementById(t.area)){let e=Y.createElement("component");e.setAttribute("is",t.component),r.append(e)}return i.innerHTML})})}catch(t){Wt(t)}})(),(async()=>{try{h("ns","flair.ui.vue"),e("VueMixin",function(){h("virtual"),h("async"),this.factory=q})}catch(t){Wt(t)}})(),(async()=>{try{h("ns","flair.ui.vue"),e("VuePlugin",function(){this.construct=(t=>{qt.pluginOptions[t]&&(this.options=Object.assign({},qt.pluginOptions[t]))}),h("virtual"),h("async"),this.factory=q,this.options=null})}catch(t){Wt(t)}})(),(async()=>{try{const{Bootware:t}=D("flair.app"),i=await u("vue/vue{.min}.js"),{VueComponent:n,VueFilter:r,VueDirective:a,VuePlugin:s,VueMixin:o}=D("flair.ui.vue");h("ns","flair.ui.vue"),e("VueSetup",t,function(){h("override"),this.construct=(t=>{t("Vue Setup")}),h("override"),this.boot=(async()=>{let t=qt.plugins,e=null,h=null;for(let n in t){if(!n.name)throw W.OperationFailed(`Plugin name cannot be empty. (${n.type})`);if(!n.type)throw W.OperationFailed(`Plugin type cannot be empty. (${n.name})`);if(!(e=b(await u(n.type),s)))throw W.InvalidArgument(n.type);try{h=new e(n.name),i.use(await h.factory(),h.options||{})}catch(t){throw W.OperationFailed(`Plugin registration failed. (${n.type})`,t)}}let c=qt.mixins,l=null,p=null;for(let t in c){if(!t.name)throw W.OperationFailed(`Mixin name cannot be empty. (${t.type})`);if(!t.type)throw W.OperationFailed(`Mixin type cannot be empty. (${t.name})`);if(!(l=b(await u(t.type),o)))throw W.InvalidArgument(t.type);try{p=new l,i.mixin(await p.factory())}catch(e){throw W.OperationFailed(`Mixin registration failed. (${t.type})`,e)}}let d=qt.directives,f=null,m=null;for(let t in d){if(!t.name)throw W.OperationFailed(`Directive name cannot be empty. (${t.type})`);if(!t.type)throw W.OperationFailed(`Directive type cannot be empty. (${t.name})`);if(!(f=b(await u(t.type),a)))throw W.InvalidArgument(t.type);try{m=new f,i.directive(t.name,await m.factory())}catch(e){throw W.OperationFailed(`Directive registration failed. (${t.type})`,e)}}let y=qt.filters,v=null,w=null;for(let t in y){if(!t.name)throw W.OperationFailed(`Filter name cannot be empty. (${t.type})`);if(!t.type)throw W.OperationFailed(`Filter type cannot be empty. (${t.name})`);if(!(v=b(await u(t.type),r)))throw W.InvalidArgument(t.type);try{w=new v,i.filter(t.name,await w.factory())}catch(e){throw W.OperationFailed(`Filter registration failed. (${t.type})`,e)}}let g=qt.components,$=null,x=null;for(let t in g){if(!t.name)throw W.OperationFailed(`Component name cannot be empty. (${t.type})`);if(!t.type)throw W.OperationFailed(`Component type cannot be empty. (${t.name})`);if(!($=b(await u(t.name),n)))throw W.InvalidArgument(t.type);try{if(x=new $,i.options.components[t.name])throw W.Duplicate(`Component already registered. (${t.name})`);i.component(t.name,await x.factory())}catch(e){throw W.OperationFailed(`Component registration failed. (${t.type})`,e)}}})})}catch(t){Wt(t)}})(),(async()=>{try{const{ViewHandler:t}=D("flair.ui"),{VueComponentMembers:i}=D("flair.ui.vue"),n=await u("vue/vue{.min}.js");h("ns","flair.ui.vue"),e("VueView",t,[i],function(){let t=!1;h("override"),this.construct=(t=>{t(qt.el,qt.title,qt.viewTransition)}),h("private"),this.factory=(async()=>{if(this.layout&&this.layout.areas&&Array.isArray(this.layout.areas)){this.components=this.components||[];for(let t of this.layout.areas)this.components.push({name:t.component,type:t.type})}let t=this.define();return t.el="#"+this.name,this.propsData&&(t.propsData=this.propsData),this.data&&"function"!=typeof this.data&&(t.data=this.data),this.layout&&(t.template=await this.layout.merge(t.template)),t}),h("protected"),h("override"),h("sealed"),this.loadView=(async(e,i)=>{t||(t=!0,await this.load(e,i),new n(await this.factory()))}),h("protected"),h("virtual"),h("async"),this.load=q,h("protected"),this.el=null,h("protected"),this.propsData=null,h("protected"),this.data=null,h("protected"),this.layout=null})}catch(t){Wt(t)}})()}catch(t){Wt(t)}o.context.current().currentAssemblyBeingLoaded(""),o.registerAdo('{"name":"flair.client","file":"./flair.client{.min}.js","mainAssembly":"flair","desc":"True Object Oriented JavaScript","title":"Flair.js","version":"0.50.32","lupdate":"Sat, 04 May 2019 18:35:15 GMT","builder":{"name":"<<name>>","version":"<<version>>","format":"fasm","formatVersion":"1","contains":["initializer","functions","types","enclosureVars","enclosedTypes","resources","assets","routes","selfreg"]},"copyright":"(c) 2017-2019 Vikas Burman","license":"MIT","types":["flair.ui.ViewTransition","flair.ui.vue.VueComponentMembers","flair.app.ClientHost","flair.boot.ClientRouter","flair.ui.ViewHandler","flair.ui.ViewInterceptor","flair.ui.ViewState","flair.ui.vue.VueComponent","flair.ui.vue.VueDirective","flair.ui.vue.VueFilter","flair.ui.vue.VueLayout","flair.ui.vue.VueMixin","flair.ui.vue.VuePlugin","flair.ui.vue.VueSetup","flair.ui.vue.VueView"],"resources":[],"assets":[],"routes":[{"name":"flair.ui.vue.test2","mount":"main","index":101,"verbs":[],"path":"test/:id","handler":"abc.xyz.Test"},{"name":"flair.ui.vue.exit2","mount":"main","index":103,"verbs":[],"path":"exit","handler":"abc.xyz.Exit"}]}'),"function"==typeof onLoadComplete&&(onLoadComplete(),onLoadComplete=q)})();